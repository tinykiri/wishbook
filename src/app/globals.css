@import "tailwindcss";

@theme {
  --font-mansalva: var(--font-mansalva), cursive; 
  
  --color-paper: #fcfaf2;
  --color-crayon-red: #e65a5a;
  --color-crayon-green: #27ae60;
  
  /* A waxy red crayon texture for text */
  --pattern-crayon-red: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='1' fill='%23e65a5a'/%3E%3C/svg%3E");
  
  --background-image-crumpled-paper: url("data:image/svg+xml,%3Csvg viewBox='0 0 250 250' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.6' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.15'/%3E%3C/svg%3E");
}

@layer base {
  body {
    background-color: var(--color-paper);
    
    background-image:
      /* LAYER 1: The Crayon Doodles (Hearts, Stars) with wax filter */
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400' viewBox='0 0 400 400'%3E%3Cdefs%3E%3Cfilter id='doodle-filter' x='-20%25' y='-20%25' width='140%25' height='140%25'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.03' numOctaves='4' result='noise'/%3E%3CfeDisplacementMap in='SourceGraphic' in2='noise' scale='5' /%3E%3C/filter%3E%3C/defs%3E%3Cg fill='none' stroke-linecap='round' stroke-linejoin='round' filter='url(%23doodle-filter)'%3E%3C!-- Heart --%3E%3Cpath d='M300 100 C 280 80, 260 120, 300 150 C 340 120, 320 80, 300 100' stroke='%23e65a5a' stroke-width='4' opacity='0.5' transform='rotate(10, 300, 100)'/%3E%3C!-- Star --%3E%3Cpath d='M100 300 L 110 330 L 140 335 L 115 350 L 125 380 L 100 360 L 75 380 L 85 350 L 60 335 L 90 330 Z' stroke='%23f39c12' stroke-width='4' opacity='0.5' transform='rotate(-15, 100, 350)'/%3E%3C!-- Squiggle --%3E%3Cpath d='M50 50 Q 70 20, 90 50 T 130 50' stroke='%232980b9' stroke-width='4' opacity='0.4'/%3E%3C/g%3E%3C/svg%3E"),

      /* LAYER 2: Notebook Lines (Bottom) */
      linear-gradient(90deg, transparent 3rem, #ff9999 3rem, #ff9999 3.15rem, transparent 3.15rem),
      repeating-linear-gradient(transparent, transparent 1.9rem, #afe0e0 1.9rem, #afe0e0 2rem);
      
    background-size: 
      400px 400px,
      auto;
    
    background-attachment: local;
    
    font-family: var(--font-mansalva);
    
    font-size: 1.8rem;
    color: #333;
    min-height: 100vh;
    overflow-x: hidden; 
  }
}

/* THE CRAYON FRAME */
.crayon-frame {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 50;
  overflow: hidden;
}

.crayon-frame::before {
  content: "";
  position: absolute;
  inset: 10px;
  border: 8px solid var(--color-crayon-red);
  border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
  filter: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="wavy"><feTurbulence type="fractalNoise" baseFrequency="0.01" numOctaves="5" result="noise" /><feDisplacementMap in="SourceGraphic" in2="noise" scale="6" /></filter></svg>#wavy');
  opacity: 0.8;
}

.crayon-frame::after {
  content: "";
  position: absolute;
  inset: 18px;
  border: 7px solid var(--color-crayon-green);
  border-radius: 25px 225px 25px 255px / 225px 25px 255px 15px;
  filter: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="wavy2"><feTurbulence type="fractalNoise" baseFrequency="0.015" numOctaves="5" result="noise" /><feDisplacementMap in="SourceGraphic" in2="noise" scale="6" /></filter></svg>#wavy2');
  opacity: 0.7;
}

/* UTILITY CLASS FOR CRAYON TEXT */
.text-crayon-red {
  background-image: var(--pattern-crayon-red);
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
  filter: drop-shadow(1px 1px 1px rgba(230, 90, 90, 0.5));
}